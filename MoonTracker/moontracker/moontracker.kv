#:kivy 1.9

#:include moontracker/controls/color_box.kv
#:include moontracker/controls/onoff_toggle.kv
#:include moontracker/controls/reset_button.kv
#:include moontracker/colors.kv


BoxLayout:
    canvas.before:
        Color:
            rgba: grey
        Rectangle:
            pos: self.pos
            size: self.size
    orientation: 'vertical'
    BoxLayout:
        orientation: 'vertical'
        padding: 30
        size_hint_y: 0.45
        Label:
            id: azimuth_position_display
            text: 'Azimuth Position: ' + str(app.azimuth)
            valign: 'middle'
            color: black
            bold: True
        Label:
            id: elevation_position_display
            text: 'Elevation Position: ' + str(app.elevation)
            valign: 'middle'
            color: black
            bold: True
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 0.2475
        ResetButton:
            id: button_reset
            image: 'images/reset_button_green.png'
            text: ''
            on_press: app.on_moontracker_is_reset(None, True)
            #on_release: app.on_moontracker_is_reset
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 0.005
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 0.2975
        OnOffToggle:
            id: button_onoff
            image: 'images/power_icon_light.png'
            text: ''
            state: 'down' if app.moontracker_is_on else 'normal'
            on_state:  app.moontracker_is_on = True if self.state == 'down' else False
            
